# with ?p= parameters

```js
javascript:(function(){let replaceKing=true,replaceQueen=true;const urlParams=new URLSearchParams(location.search);const paramValue=urlParams.get('p');if(paramValue){replaceKing=paramValue.includes('k');replaceQueen=paramValue.includes('q');}let r=true,o=true;const g=()=>{const b=document.querySelector('.board');return b?b.classList.contains('flipped')?'black':'white':null;};if(window.location.href.includes('chess.com')){const c=g();if(c){const s=document.createElement('style');let k=replaceKing?'url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)':'',q=replaceQueen?'url(https://images.chesscomfiles.com/uploads/v1/user/58361334.230ee823.100x100o.17cce90e60c0@3x.jpeg)':'';s.innerHTML=`.highlight{background-color:red!important;opacity:1!important}${replaceKing?`.${c[0]}k.piece::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-image:${k};background-size:cover;background-repeat:no-repeat;background-position:center}`:''}${replaceQueen?`.${c[0]}q.piece::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-image:${q};background-size:cover;background-repeat:no-repeat;background-position:center}`:''}`;document.head.appendChild(s);}else{console.log("Could not determine player color. Style not applied.")}}else if(document.querySelector('cg-board')){function a(e,t,c){if(!e||!e.classList.contains(c)||e.classList.contains('bishop'))return;e.classList.remove('black','white',c);e.style.background=t;e.style.backgroundSize='cover';if(e.style.backgroundImage&&e.style.backgroundImage.includes('https://lichess1.org/assets/_KA7qyN/piece/')){console.log(`Piece loaded for ${e.classList.value} with ${t}`)}else{console.log(`Piece fail ${e.classList.value} with ${t}`);setTimeout(()=>a(e,t,c),100)}}function p(e,c,t){if(!e)return;e.forEach((el,i)=>{const idx=i%t.length;const u=`url(https://lichess1.org/assets/_KA7qyN/piece/${t[idx]}/${c[0]}P.svg)`;a(el,u,c)})}function f(){let m,pcs={black:{pawns:[],king:null,queen:null},white:{pawns:[],king:null,queen:null}},ki=replaceKing?'url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)':'',qu=replaceQueen?'url(https://i.imgur.com/FhwFGbb.jpg)':'';let l=document.querySelector('.puzzle__feedback.play');if(l){let i=l.querySelector('.instruction em');if(i){if(i.textContent.includes('black'))m='black';else if(i.textContent.includes('white'))m='white'}if(m){if(replaceKing)pcs[m].king=document.querySelector(`.${m}.king`);if(replaceQueen)pcs[m].queen=document.querySelector(`.${m}.queen`)}}if(!m){let b=document.querySelector('.cg-wrap');if(b){m=b.classList.contains('orientation-black')?'black':'white';console.log("Player:",m);if(replaceKing)pcs[m].king=document.querySelector(`.${m}.king`);if(replaceQueen)pcs[m].queen=document.querySelector(`.${m}.queen`)}}if(m){pcs[m].pawns=document.querySelectorAll(`.${m}.pawn`);const om=m==='black'?'white':'black';pcs[om].pawns=document.querySelectorAll(`.${om}.pawn`);if(pcs[m].king){a(pcs[m].king,ki,m)}if(pcs[m].queen){a(pcs[m].queen,qu,m)}const stys=["cburnett","merida","alpha","chessnut","chess7","reillycraig","companion","riohacha","kosal","le%20Zigzag","fantasy","spatial","celtic","california","caliente","pixel","maestro","fresca","cardinal","gioco","tatiana","staunty","cooke","monarchy","governor","dubrovny","icpieces","mpchess","kiwen-suwi","horsey","anarcandy","shapes","letter","disguised"];if(r){p(Array.from(pcs[m].pawns),m,stys)}if(o){p(Array.from(pcs[om].pawns),om,stys)}}}function b(){const p=document.querySelector('.puzzle__side__user__rating'),g=document.querySelector('.game__meta__infos');if((p&&p.querySelector('strong'))||(g&&g.querySelector('.setup')&&g.querySelector('.setup').textContent.includes('Rated'))){if(p&&p.querySelector('strong'))document.querySelector('.puzzle__side__user').style.backgroundColor='#0B3B0B';else%20document.querySelector('main.round').style.backgroundColor='#0B3B0B'}}function%20h(){const%20l=document.querySelectorAll('.last-move');l.forEach(el=>{if(el&&!el.style.cssText.includes('box-shadow')){el.style.cssText+='box-shadow:0%200%2015px%20rgba(0,0,0,0.7);outline:5px%20solid%20black;background-image:linear-gradient(to%20bottom,rgba(255,255,0,0.5),rgba(255,255,0,0.2))'}})}f();b();const%20t=setInterval(function(){h();f();b()},2000);const%20an=document.querySelectorAll('#puzzle-toggle-autonext,label[for="puzzle-toggle-autonext"]');an.forEach(el=>el.remove())}})()
```

# without parameters

```js
javascript:(function(){let r=true,o=true;const g=()=>{const b=document.querySelector('.board');return b?b.classList.contains('flipped')?'black':'white':null;};if(window.location.href.includes('chess.com')){const c=g();if(c){const s=document.createElement('style');let k,q;if(c==='white'){k='url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)';q='url(https://images.chesscomfiles.com/uploads/v1/user/58361334.230ee823.100x100o.17cce90e60c0@3x.jpeg)';}else{k='url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)';q='url(https://images.chesscomfiles.com/uploads/v1/user/58361334.230ee823.100x100o.17cce90e60c0@3x.jpeg)';}s.innerHTML=`.highlight{background-color:red!important;opacity:1!important}.${c[0]}k.piece::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-image:${k};background-size:cover;background-repeat:no-repeat;background-position:center}.${c[0]}q.piece::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-image:${q};background-size:cover;background-repeat:no-repeat;background-position:center}`;document.head.appendChild(s);}else{console.log("Could not determine player color. Style not applied.")}}else if(document.querySelector('cg-board')){function a(e,t,c){if(!e||!e.classList.contains(c)||e.classList.contains('bishop'))return;e.classList.remove('black','white',c);e.style.background=t;e.style.backgroundSize='cover';if(e.style.backgroundImage&&e.style.backgroundImage.includes('https://lichess1.org/assets/_KA7qyN/piece/')){console.log(`Piece loaded for ${e.classList.value} with ${t}`)}else{console.log(`Piece fail ${e.classList.value} with ${t}`);setTimeout(()=>a(e,t,c),100)}}function p(e,c,t){if(!e)return;e.forEach((el,i)=>{const idx=i%t.length;const u=`url(https://lichess1.org/assets/_KA7qyN/piece/${t[idx]}/${c[0]}P.svg)`;a(el,u,c)})}function f(){let m,pcs={black:{pawns:[],king:null,queen:null},white:{pawns:[],king:null,queen:null}},ki='url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)',qu='url(https://i.imgur.com/FhwFGbb.jpg)';let l=document.querySelector('.puzzle__feedback.play');if(l){let i=l.querySelector('.instruction em');if(i){if(i.textContent.includes('black'))m='black';else if(i.textContent.includes('white'))m='white'}if(m){pcs[m].king=document.querySelector(`.${m}.king`);pcs[m].queen=document.querySelector(`.${m}.queen`)}}if(!m){let b=document.querySelector('.cg-wrap');if(b){m=b.classList.contains('orientation-black')?'black':'white';console.log("Player:",m);pcs[m].king=document.querySelector(`.${m}.king`);pcs[m].queen=document.querySelector(`.${m}.queen`)}}if(m){pcs[m].pawns=document.querySelectorAll(`.${m}.pawn`);const om=m==='black'?'white':'black';pcs[om].pawns=document.querySelectorAll(`.${om}.pawn`);if(pcs[m].king){a(pcs[m].king,ki,m)}if(pcs[m].queen){a(pcs[m].queen,qu,m)}const stys=["cburnett","merida","alpha","chessnut","chess7","reillycraig","companion","riohacha","kosal","le%20Zigzag","fantasy","spatial","celtic","california","caliente","pixel","maestro","fresca","cardinal","gioco","tatiana","staunty","cooke","monarchy","governor","dubrovny","icpieces","mpchess","kiwen-suwi","horsey","anarcandy","shapes","letter","disguised"];if(r){p(Array.from(pcs[m].pawns),m,stys)}if(o){p(Array.from(pcs[om].pawns),om,stys)}}}function b(){const p=document.querySelector('.puzzle__side__user__rating'),g=document.querySelector('.game__meta__infos');if((p&&p.querySelector('strong'))||(g&&g.querySelector('.setup')&&g.querySelector('.setup').textContent.includes('Rated'))){if(p&&p.querySelector('strong'))document.querySelector('.puzzle__side__user').style.backgroundColor='#0B3B0B';else%20document.querySelector('main.round').style.backgroundColor='#0B3B0B'}}function%20h(){const%20l=document.querySelectorAll('.last-move');l.forEach(el=>{if(el&&!el.style.cssText.includes('box-shadow')){el.style.cssText+='box-shadow:0%200%2015px%20rgba(0,0,0,0.7);outline:5px%20solid%20black;background-image:linear-gradient(to%20bottom,rgba(255,255,0,0.5),rgba(255,255,0,0.2))'}})}f();b();const%20t=setInterval(function(){h();f();b()},2000);const%20an=document.querySelectorAll('#puzzle-toggle-autonext,label[for="puzzle-toggle-autonext"]');an.forEach(el=>el.remove())}})()
```
**Chesscom:**

* **Your Pieces:** This script use example image for your King and Queen on the chessboard. 
* **Extra Highlight Last Move:** 

**Lichess:**

* **Your Pieces:** This script use example image for your King and Queen on the chessboard. 
* **Chessboard Themes for Pawns:** cycle through various chessboard themes for your pawns, adding a bit of personalization to your game.
* **Extra Highlight Last Move:** 
* **Disable Auto-Next Puzzle:** If you prefer to manually navigate between puzzles on Lichess, this script removes the "Auto-Next Puzzle" toggle, preventing accidental skipping.
* **Background Color for Rated Games:**  This feature changes the background color of the game interface to a darker tone when playing a rated game, potentially enhancing focus.

example chesscom:

![Screenshot_20250101_200205](https://github.com/user-attachments/assets/06642cd3-728c-48a0-a959-548e2129bdad)

example lichess:

![Screenshot_20250101_144428](https://github.com/user-attachments/assets/2617b222-894b-4d81-b469-21a647786cab)
