<p>This bookmarklet highlights the last move.</p>
<p>Additionally, it sends a welcome message to the chat.</p>
<br>

<a href="javascript:void(0);" onclick="eval(decodeURIComponent('%28function%28%29%7Bif%28window.location.href.includes%28%27chess.com%27%29%29%7Bconst%20s%3Ddocument.createElement%28%27style%27%29%3Bs.innerHTML%3D%27.highlight%7Bbackground-color%3Ared%21important%3Bopacity%3A1%21important%3B%7D%27%3Bdocument.head.appendChild%28s%29%7Delse%7Bif%28document.querySelector%28%27cg-board%27%29%29%7Bfunction%20r%28e%2Cs%2Cc%29%7Bif%28%21e%7C%7Ce.length%3D%3D%3D0%29return%3Be.forEach%28%28el%2Ci%29%3D%3E%7Bif%28el%26%26el.classList.contains%28c%29%29%7Bel.classList.remove%28%27black%27%2C%27white%27%2Cc%29%3Bel.style.background%3DArray.isArray%28s%29%3F%60url%28https%3A%2F%2Flichess1.org%2Fassets%2F_KA7qyN%2Fpiece%2F%24%7Bs%5Bi%25s.length%5D%7D%2F%24%7Bc%5B0%5D%7DP.svg%29%60%3As%3Bel.style.backgroundSize%3D%27cover%27%3B%7D%7D%29%7Dfunction%20q%28%29%7Blet%20f%3Ddocument.querySelector%28%27.puzzle__feedback.play%27%29%2Cm%2Cki%3D%27url%28https%3A%2F%2Fstatic-cdn.jtvnw.net%2Fjtv_user_pictures%2F67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png%29%27%2Cqu%3D%27url%28https%3A%2F%2Fi.imgur.com%2FFhwFGbb.jpg%29%27%3Bif%28f%29%7Blet%20i%3Df.querySelector%28%27.instruction%20em%27%29%3Bif%28i%29%7Bif%28i.textContent.includes%28%27black%27%29%29m%3D%27black%27%3Belse%20if%28i.textContent.includes%28%27white%27%29%29m%3D%27white%27%3B%7Dlet%20k%3Ddocument.querySelector%28%60.%24%7Bm%7D.king%60%29%3Bif%28k%29r%28%5Bk%5D%2Cki%2Cm%29%3Blet%20qn%3Ddocument.querySelector%28%60.%24%7Bm%7D.queen%60%29%3Bif%28qn%29r%28%5Bqn%5D%2Cqu%2Cm%29%3B%7Dif%28%21m%29%7Blet%20b%3Ddocument.querySelector%28%27.cg-wrap%27%29%3Bif%28b%29%7Bm%3Db.classList.contains%28%27orientation-black%27%29%3F%27black%27%3A%27white%27%3Bconsole.log%28%22Current%20player%20color%3A%22%2Cm%29%3Blet%20k%3Ddocument.querySelector%28%60.%24%7Bm%7D.king%60%29%3Bif%28k%29r%28%5Bk%5D%2Cki%2Cm%29%3Blet%20qn%3Ddocument.querySelector%28%60.%24%7Bm%7D.queen%60%29%3Bif%28qn%29r%28%5Bqn%5D%2Cqu%2Cm%29%3B%7D%7Dlet%20pa%3Ddocument.querySelectorAll%28%60.%24%7Bm%7D.pawn%60%29%2Csty%3D%5B%22cburnett%22%2C%22merida%22%2C%22alpha%22%2C%22pirouetti%22%2C%22chessnut%22%2C%22chess7%22%2C%22reillycraig%22%2C%22companion%22%2C%22riohacha%22%2C%22kosal%22%2C%22le-zigzag%22%2C%22fantasy%22%2C%22spatial%22%2C%22celtic%22%2C%22californiaornament%22%2C%22caliente%22%2C%22pixel%22%2C%22maestro%22%2C%22fresca%22%2C%22cardinal%22%2C%22gioco%22%2C%22tatiana%22%2C%22staunty%22%2C%22cooke%22%2C%22monarchy%22%2C%22governor%22%2C%22dubrovny%22%2C%22icpieces%22%2C%22mpchess%22%2C%22kiwen-suwi%22%2C%22horsey%22%2C%22anarcandy%22%2C%22shapes%22%2C%22letter%22%2C%22disguised%22%5D%3Bconsole.log%28%22Pawns%3A%22%2Cpa.length%29%3Br%28Array.from%28pa%29%2Csty%2Cm%29%3B%7Dfunction%20b%28%29%7Bconst%20p%3Ddocument.querySelector%28%27.puzzle__side__user__rating%27%29%2Cg%3Ddocument.querySelector%28%27.game__meta__infos%27%29%3Bif%28%28p%26%26p.querySelector%28%27strong%27%29%29%7C%7C%28g%26%26g.querySelector%28%27.setup%27%29%26%26g.querySelector%28%27.setup%27%29.textContent.includes%28%27Rated%27%29%29%29%7Bif%28p%26%26p.querySelector%28%27strong%27%29%29%7Bdocument.querySelector%28%27.puzzle__side__user%27%29.style.backgroundColor%3D%27%230B3B0B%27%3B%7Delse%20document.querySelector%28%27main.round%27%29.style.backgroundColor%3D%27%230B3B0B%27%3B%7D%7Dq%28%29%3Bb%28%29%3Blet%20c%3D0%3Bfunction%20a%28e%29%7Be.forEach%28el%3D%3E%7Bif%28el%29el.style.cssText%2B%3D%27box-shadow%3A0%200%2015px%20rgba%280%2C0%2C0%2C0.7%29%3Boutline%3A5px%20solid%20black%3Bbackground-image%3Alinear-gradient%28to%20bottom%2Crgba%28255%2C255%2C0%2C0.5%29%2Crgba%28255%2C255%2C0%2C0.2%29%29%3B%27%3B%7D%29%7Dconst%20l%3Ddocument.querySelectorAll%28%27.last-move%27%29%3Bconst%20t%3DsetInterval%28function%28%29%7Bconst%20l%3Ddocument.querySelectorAll%28%27.last-move%27%29%3Bif%28l.length%3E0%29%7Bl.forEach%28s%3D%3E%7Bif%28%21s.style.cssText.includes%28%27box-shadow%27%29%29a%28%5Bs%5D%29%7D%29%3B%7Dq%28%29%3Bb%28%29%3B%7D%2C2000%29%3Bconst%20an%3Ddocument.querySelectorAll%28%27%23puzzle-toggle-autonext%2Clabel%5Bfor%3D%22puzzle-toggle-autonext%22%5D%27%29%3Ban.forEach%28el%3D%3Eel.remove%28%29%29%3B%7Delse%20window.location.href%3D%27https%3A%2F%2Flichess.org%2Ftraining%27%3B%7D%7D%29%28%29%29" >
    ♟️jack-of-all-trades
</a>

<p><a href="https://sl5net.github.io/lichess-bookmarklets/jack-of-all-trades.html">Source ♟️jack-of-all-trades</a></p>

<a href="javascript:(function() {
  if (window.location.href.includes('chess.com')) {
    const s = document.createElement('style');
    s.innerHTML = '.highlight{background-color:red!important;opacity:1!important}';
    document.head.appendChild(s);
  } else {
    if (document.querySelector('cg-board')) {
      function r(e, s, c) {
        if (!e || e.length === 0) return;
        e.forEach((el, i) => {
          if (el && el.classList.contains(c)) {
            el.classList.remove('black', 'white', c);
            el.style.background = Array.isArray(s) ? `url(https://lichess1.org/assets/_KA7qyN/piece/${s[i % s.length]}/${c[0]}P.svg)` : s;
            el.style.backgroundSize = 'cover';
          }
        });
      }

      function q() {
        let f = document.querySelector('.puzzle__feedback.play'),
          m,
          ki = 'url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)',
          qu = 'url(https://i.imgur.com/FhwFGbb.jpg)';
        if (f) {
          let i = f.querySelector('.instruction em');
          if (i) {
            if (i.textContent.includes('black')) m = 'black';
            else if (i.textContent.includes('white')) m = 'white';
          }
          let k = document.querySelector(`.\${m}.king`);
          if (k) r([k], ki, m);
          let qn = document.querySelector(`.\${m}.queen`);
          if (qn) r([qn], qu, m);
        }
        if (!m) {
          let b = document.querySelector('.cg-wrap');
          if (b) {
            m = b.classList.contains('orientation-black') ? 'black' : 'white';
            console.log('Current player color:', m);
            let k = document.querySelector(`.\${m}.king`);
            if (k) r([k], ki, m);
            let qn = document.querySelector(`.\${m}.queen`);
            if (qn) r([qn], qu, m);
          }
        }
        let pa = document.querySelectorAll(`.\${m}.pawn`),
          sty = [
            'cburnett',
            'merida',
            'alpha',
            'pirouetti',
            'chessnut',
            'chess7',
            'reillycraig',
            'companion',
            'riohacha',
            'kosal',
            'le-zigzag',
            'fantasy',
            'spatial',
            'celtic',
            'californiaornament',
            'caliente',
            'pixel',
            'maestro',
            'fresca',
            'cardinal',
            'gioco',
            'tatiana',
            'staunty',
            'cooke',
            'monarchy',
            'governor',
            'dubrovny',
            'icpieces',
            'mpchess',
            'kiwen-suwi',
            'horsey',
            'anarcandy',
            'shapes',
            'letter',
            'disguised',
          ];
         console.log("Pawns:", pa.length);
        r(Array.from(pa), sty, m);
      }

      function b() {
        const p = document.querySelector('.puzzle__side__user__rating'),
          g = document.querySelector('.game__meta__infos');
        if ((p && p.querySelector('strong')) || (g && g.querySelector('.setup') && g.querySelector('.setup').textContent.includes('Rated'))) {
          if (p && p.querySelector('strong')) {
            document.querySelector('.puzzle__side__user').style.backgroundColor = '#0B3B0B';
          } else {
            document.querySelector('main.round').style.backgroundColor = '#0B3B0B';
          }
        }
      }
      q();
      b();
      let c = 0;

      function a(e) {
        e.forEach(el => {
          if (el) el.style.cssText += 'box-shadow:0 0 15px rgba(0,0,0,0.7);outline:5px solid black;background-image:linear-gradient(to bottom,rgba(255,255,0,0.5),rgba(255,255,0,0.2))';
        });
      }
      const l=document.querySelectorAll('.last-move');
      const t=setInterval(function(){
          if(l.length>0){
              l.forEach(s=>{if(!s.style.cssText.includes('box-shadow'))a([s])});
          }
         q();
         b();
      },2000);
      const an = document.querySelectorAll('#puzzle-toggle-autonext,label[for="puzzle-toggle-autonext"]');
      an.forEach(el => el.remove());
    } else window.location.href = 'https://lichess.org/training';
  }
})()">
    ♟️jack-of-all-trades 5
</a>

<pre>

javascript:(function(){if(window.location.href.includes('chess.com')){const s=document.createElement('style');s.innerHTML='.highlight{background-color:red!important;opacity:1!important}';document.head.appendChild(s)}else{if(document.querySelector('cg-board')){function r(e,s,c){if(!e||e.length===0)return;e.forEach((el,i)=>{if(el&&el.classList.contains(c)){el.classList.remove('black','white',c);el.style.background=Array.isArray(s)?`url(https://lichess1.org/assets/_KA7qyN/piece/${s[i%s.length]}/${c[0]}P.svg)`:s;el.style.backgroundSize='cover'}})}function q(){let f=document.querySelector('.puzzle__feedback.play'),m,ki='url(https://static-cdn.jtvnw.net/jtv_user_pictures/67dcc3a8-669c-4670-96d1-0ad3728c3adb-profile_image-70x70.png)',qu='url(https://i.imgur.com/FhwFGbb.jpg)';if(f){let i=f.querySelector('.instruction em');if(i){if(i.textContent.includes('black'))m='black';else if(i.textContent.includes('white'))m='white'}let k=document.querySelector(`.${m}.king`);if(k)r([k],ki,m);let qn=document.querySelector(`.${m}.queen`);if(qn)r([qn],qu,m)}if(!m){let b=document.querySelector('.cg-wrap');if(b){m=b.classList.contains('orientation-black')?'black':'white';console.log("Current player color:", m);let k=document.querySelector(`.${m}.king`);if(k)r([k],ki,m);let qn=document.querySelector(`.${m}.queen`);if(qn)r([qn],qu,m)}}let pa=document.querySelectorAll(`.${m}.pawn`),sty=["cburnett","merida","alpha","pirouetti","chessnut","chess7","reillycraig","companion","riohacha","kosal","le-zigzag","fantasy","spatial","celtic","californiaornament","caliente","pixel","maestro","fresca","cardinal","gioco","tatiana","staunty","cooke","monarchy","governor","dubrovny","icpieces","mpchess","kiwen-suwi","horsey","anarcandy","shapes","letter","disguised"]; console.log("Pawns:", pa.length);r(Array.from(pa),sty,m)}function b(){const p=document.querySelector('.puzzle__side__user__rating'),g=document.querySelector('.game__meta__infos');if((p&&p.querySelector('strong'))||(g&&g.querySelector('.setup')&&g.querySelector('.setup').textContent.includes('Rated'))){if(p&&p.querySelector('strong'))document.querySelector('.puzzle__side__user').style.backgroundColor='#0B3B0B';else%20document.querySelector('main.round').style.backgroundColor='#0B3B0B'}}q();b();let%20c=0;function%20a(e){e.forEach(el=>{if(el)el.style.cssText+='box-shadow:0%200%2015px%20rgba(0,0,0,0.7);outline:5px%20solid%20black;background-image:linear-gradient(to%20bottom,rgba(255,255,0,0.5),rgba(255,255,0,0.2))'})}const%20l=document.querySelectorAll('.last-move');const%20t=setInterval(function(){const%20l=document.querySelectorAll('.last-move');if(l.length>0){l.forEach(s=>{if(!s.style.cssText.includes('box-shadow'))a([s])});}q();b();},2000);const%20an=document.querySelectorAll('#puzzle-toggle-autonext,label[for="puzzle-toggle-autonext"]');an.forEach(el=>el.remove())}else%20window.location.href='https://lichess.org/training'}})()
  

  
## Features
- Replaces the queen image with a custom logo.
- Highlights the last move squares.
- Changes background color for rated games.

## Usage
1. Create a new bookmark in your browser.
2. Copy the code from `bookmarklet.js` and paste it into the URL field.
3. Click the bookmark while on the game page to activate it.

</pre>
